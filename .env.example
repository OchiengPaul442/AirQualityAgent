# ===================================
# AERIS-AQ Configuration
# ===================================
# Copy this file to .env and configure for your environment
# For production, set ENVIRONMENT=production

PROJECT_NAME=AERIS-AQ - Air Quality AI Assistant API
ENVIRONMENT=development  # Options: development, production

# ===================================
# AI Provider Configuration (REQUIRED)
# ===================================
# Choose ONE provider and configure accordingly:

# Option 1: Ollama (FREE - Local models, slower but no API costs)
AI_PROVIDER=ollama
AI_MODEL=qwen2.5:3b  # Recommended: qwen2.5:3b, llama3.2:1b, deepseek-r1:1.5b
OLLAMA_BASE_URL=http://localhost:11434
# AI_API_KEY=  # Not needed for Ollama

# Option 2: OpenAI (FAST - Requires API key, paid service)
# AI_PROVIDER=openai
# AI_MODEL=gpt-4o-mini  # Options: gpt-4o-mini, gpt-4o, gpt-4-turbo
# AI_API_KEY=sk-your-openai-api-key-here
# OPENAI_BASE_URL=https://openrouter.ai/api/v1

# Option 3: Gemini (FAST - Requires API key, free tier available)
# AI_PROVIDER=gemini
# AI_MODEL=gemini-1.5-flash  # Options: gemini-1.5-flash, gemini-2.0-flash-exp
# AI_API_KEY=your-google-api-key-here

# AI Response Settings
AI_MAX_TOKENS=2048  # Maximum tokens in response
AI_RESPONSE_TEMPERATURE=0.3  # Creativity (0.0-1.0, lower = more focused)
AI_RESPONSE_TOP_P=0.9  # Nucleus sampling
AI_RESPONSE_STYLE=general  # Options: general, technical, executive, simple, policy

# ===================================
# Database Configuration
# ===================================
# SQLite (default - good for development and small deployments)
DATABASE_URL=sqlite:///./data/chat_sessions.db

# PostgreSQL (recommended for production with >10k sessions)
# DATABASE_URL=postgresql://user:password@host:5432/aeris_aq

# Docker SQLite path:
# DATABASE_URL=sqlite:////app/data/chat_sessions.db

# ===================================
# Data Source API Keys (OPTIONAL)
# ===================================
# Get free API keys from:
# - WAQI: https://aqicn.org/data-platform/token/
# - AirQo: https://docs.airqo.net/airqo-rest-api-documentation/

WAQI_API_KEY=  # World Air Quality Index (30k+ stations globally)
AIRQO_API_TOKEN=  # AirQo (Africa-focused data)
DASHSCOPE_API_KEY=  # DashScope (optional)

# Enable/disable data sources (comma-separated)
ENABLED_DATA_SOURCES=waqi,airqo,openmeteo,carbon_intensity,defra,uba,nsw

# ===================================
# Cache Configuration
# ===================================
CACHE_TTL_SECONDS=3600  # 1 hour cache for air quality data

# Redis (optional - for production with multiple instances)
REDIS_ENABLED=false  # Set to true if using Redis
REDIS_HOST=localhost #  Redis server host
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # Leave empty if no password

# Docker Redis configuration:
# REDIS_ENABLED=true
# REDIS_HOST=redis

# ===================================
# Session & Rate Limiting
# ===================================
MAX_MESSAGES_PER_SESSION=100  # Prevent runaway sessions
SESSION_LIMIT_WARNING_THRESHOLD=90  # Warn when approaching limit
DISABLE_SESSION_LIMIT=false  # Only set to true for testing
RATE_LIMIT_ENABLED=true  # Enable rate limiting
RATE_LIMIT_PER_MINUTE=60  # Requests per minute per IP

# ===================================
# CORS Configuration (For Frontend Apps)
# ===================================
CORS_ORIGINS=http://localhost:8000,http://127.0.0.1:8000,http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# ===================================
# Logging & Monitoring
# ===================================
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# LangSmith (optional - for production monitoring)
LANGCHAIN_TRACING_V2=false  # Set to true to enable LangSmith tracing
LANGCHAIN_API_KEY=  # Your LangSmith API key
LANGCHAIN_PROJECT=aeris-aq  # Project name in LangSmith

# ===================================
# Document Processing Limits
# ===================================
DOCUMENT_MAX_LENGTH_PDF=50000
DOCUMENT_MAX_LENGTH_CSV=50000
DOCUMENT_MAX_LENGTH_EXCEL=100000
DOCUMENT_PREVIEW_ROWS_CSV=200
DOCUMENT_PREVIEW_ROWS_EXCEL=100
AGENT_MAX_DOC_LENGTH=100000
